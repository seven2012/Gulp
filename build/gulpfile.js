"use strict";var gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),imagemin=require("gulp-imagemin"),del=require("del"),gutil=require("gulp-util"),babel=require("gulp-babel"),postcss=require("gulp-postcss"),autoprefixer=require("autoprefixer"),cleanCSS=require("gulp-clean-css"),livereload=require("gulp-livereload");gulp.task("reset",function(){return del(["build"])}),gulp.task("js",["reset"],function(){return gulp.src("*.js").pipe(babel({presets:["env"]})).pipe(uglify()).pipe(gulp.dest("build/"))}),gulp.task("onlyjs",function(){return gulp.src("*.js").pipe(babel({presets:["env"]})).pipe(uglify()).pipe(gulp.dest("build/")).pipe(livereload())}),gulp.task("onlycss",function(){return gulp.src("*.css").pipe(postcss([autoprefixer()])).pipe(cleanCSS({compatibility:"ie8"})).pipe(gulp.dest("build/")).pipe(livereload())}),gulp.task("css",["reset"],function(){return gulp.src("*.css").pipe(postcss([autoprefixer()])).pipe(cleanCSS({compatibility:"ie8"})).pipe(gulp.dest("build/"))});var imagePath="./images/**/*.{gif,jpg,png}";gulp.task("images",["reset"],function(){return gulp.src(imagePath).pipe(imagemin()).pipe(gulp.dest("build/images/"))}),gulp.task("onlyimages",function(){return gulp.src(imagePath).pipe(imagemin()).pipe(gulp.dest("build/images/")).pipe(livereload())}),gulp.task("static-files",["reset"],function(){return gulp.src("./*.{html,json}").pipe(gulp.dest("build/"))}),gulp.task("watch",function(){livereload.listen(),gulp.watch("*.js",["onlyjs"]),gulp.watch("*.css",["onlycss"]),gulp.watch(imagePath,["onlyimages"])}),gulp.task("default",["js","css","images","static-files","watch"]);
